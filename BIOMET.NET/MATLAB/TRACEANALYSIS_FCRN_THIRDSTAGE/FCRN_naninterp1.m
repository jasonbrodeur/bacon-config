	function yi=naninterp1(x,y,xi,Method);%	yi=naninterp1(x,y,xi,Method);%%	naninterp1 calls interp1, %	but using only the non-missing data pairs in x and y. %%	yi values outside the data range are set %	to the values of the y endpoints. %%	See interp1 for further details.	%	Written by Alan Barr 2002.	iYaN=find(~isnan(x+y)); nYaN=length(iYaN); 	if nYaN==0; yi=NaN*ones(size(xi)); return; end; 	yi=interp1(x(iYaN),y(iYaN),xi,Method); nyi=length(yi);  	iyiN=min(find(~isnan(yi))); if iyiN>1; yi(1:iyiN)=yi(iyiN); end; 	iyiX=max(find(~isnan(yi))); if iyiX<nyi; yi(iyiX:nyi)=yi(iyiX); end; 	